{% extends "templates/_base.htm" %}
{% block stylesheet %}
<style type="text/css">
        #answers {
                font-size:30px;
                color:white;
                text-align:center;
        }
        input[type="text"] { 
             margin-bottom:5px;
        }
</style>
{% endblock %}
{% block javascript %}
         <script type="text/javascript">

            $(document).ready(function() { vex.defaultOptions.className='vex-theme-os';} ); 
            function getHouse() {
                var username = document.getElementById("username").value;
                if(username.length==0) {
                     vex.dialog.alert("Please enter your username.");
                     return;
                }
                $("#answers").css({"color":"#ffff33","display":"none"});
                $("#answers").fadeIn(1000);
                //$("#answers").html("Running...<br>MAY THE ODDS BE EVER IN YOUR FAVOR.");
                $("#answers").html("Thinking ...<br><img src='static/images/4messages.png'>");
                $("#header").animate({opacity:'0.0', width:'500px'}, 'slow');
                $("#header").animate({opacity:'1.0', width:'600px'}, 'slow');
                $.ajax( {
                    type:'POST',
                    url:'/getHouse',
                    data:{'username': username},
                    cache:false,
                    success: function(html) {
                      $("#answers").html(html);
                      $("#lname").fadeIn(3000);
                      $("#batch").fadeIn(6000);
                      $("#digit").fadeIn(5000);
                      $("#desc").fadeIn(5000);
                    },
                    error: function(xrq, sts, err) {$("#answers").val("Error");},
                });
            }
         </script>
{% endblock %}

{% block bodycontent %}
<div id="header">The Sorting Ceremony</div>
<div align="center"><img src="/static/images/sortinghat.gif"></div>
<meta name="viewport" content="user-scalable=0, initial-scale=1.0">
<center>
<audio autoplay controls auto>
<source src="https://dl.dropboxusercontent.com/u/37810870/sorting_hat.ogg?dl=1" type="audio/ogg" width="200px", height="10px">
<source src="https://dl.dropboxusercontent.com/u/37810870/sorting_hat.mp3?dl=1" type="audio/mpeg" width="200px", height="10px"> 
<embed src="https://dl.dropboxusercontent.com/u/37810870/sorting_hat.mp3?dl=1" width="200px", height="15px">
</audio>
</center>
<p id="house"> Enter your username:<br>
<input type="text" id="username" value={{username}}><br>
<input type=button value="Know My House" onclick="getHouse();"></p>
<div id="answers" align="center"><p>{{answers}}</p></div>
{% endblock %}
